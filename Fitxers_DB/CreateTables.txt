CREATE OR REPLACE TABLE Users (
	id MEDIUMINT NOT NULL AUTO_INCREMENT,
	nom VARCHAR(255),
	correu VARCHAR(255),
	contrasenya CHAR(32),
	PRIMARY KEY (id)
);
CREATE OR REPLACE TABLE Songs (
	id MEDIUMINT NOT NULL AUTO_INCREMENT,
	public BINARY(1),
	nom VARCHAR(255),
	data DATETIME,
	author MEDIUMINT,
	PRIMARY KEY (id),
	FOREIGN KEY (author)
		REFERENCES Users(id)
);
CREATE OR REPLACE TABLE List (
	id MEDIUMINT NOT NULL AUTO_INCREMENT,
	nom VARCHAR(255),
	author MEDIUMINT,
	PRIMARY KEY (id),
	FOREIGN KEY (author)
		REFERENCES Users(id)
);
CREATE OR REPLACE TABLE Ranking (
	user MEDIUMINT NOT NULL,
	song MEDIUMINT NOT NULL,
	PRIMARY KEY (user, song),
	FOREIGN KEY (user)
		REFERENCES Users(id),
	FOREIGN KEY (song)
		REFERENCES Songs(id)
);
CREATE OR REPLACE TABLE Listen (
	user MEDIUMINT NOT NULL,
	song MEDIUMINT NOT NULL,
	PRIMARY KEY (user, song),
	FOREIGN KEY (user)
		REFERENCES Users(id),
	FOREIGN KEY (song)
		REFERENCES Songs(id)
);
CREATE OR REPLACE TABLE ListSongs (
	list MEDIUMINT NOT NULL,
	song MEDIUMINT NOT NULL,
	PRIMARY KEY (list, song),
	FOREIGN KEY (list)
		REFERENCES List(id),
	FOREIGN KEY (song)
		REFERENCES Songs(id)
);